---
interface Props {
	title: string;
	slug: string;
	excerpt?: string | null;
	publishedAt?: string | null;
	categoryName?: string | null;
	authorName?: string | null;
}

const { title, slug, excerpt, publishedAt, categoryName, authorName } =
	Astro.props;

const _formattedDate = publishedAt
	? new Date(publishedAt).toLocaleDateString("en-US", {
			year: "numeric",
			month: "short",
			day: "numeric",
		})
	: null;
---

<article class="post-card">
	<a href={`/blog/${slug}`} class="post-card-link">
		<h2 class="post-card-title">{title}</h2>
	</a>
	{excerpt && <p class="post-card-excerpt">{excerpt}</p>}
	<div class="post-card-meta">
		{formattedDate && <time datetime={publishedAt ?? undefined}>{formattedDate}</time>}
		{authorName && <span>{authorName}</span>}
		{categoryName && <span>{categoryName}</span>}
	</div>
</article>

<style>
	.post-card {
		padding: var(--space-lg);
		border: 1px solid var(--color-border);
		border-radius: var(--radius);
		transition: border-color var(--transition), box-shadow var(--transition);
	}

	.post-card:hover {
		border-color: var(--color-accent);
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
	}

	.post-card-link {
		text-decoration: none;
	}

	.post-card-title {
		font-size: var(--font-size-xl);
		color: var(--color-text);
		margin-bottom: var(--space-sm);
		line-height: 1.3;
	}

	.post-card-link:hover .post-card-title {
		color: var(--color-accent);
	}

	.post-card-excerpt {
		color: var(--color-text-secondary);
		font-size: var(--font-size-sm);
		margin-bottom: var(--space-md);
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	.post-card-meta {
		display: flex;
		gap: var(--space-md);
		font-size: var(--font-size-sm);
		color: var(--color-text-muted);
	}
</style>
